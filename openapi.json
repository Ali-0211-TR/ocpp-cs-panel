{
    "openapi": "3.0.3",
    "info": {
        "title": "OCPP Central System API",
        "description": "REST API for managing OCPP 1.6 charge points and transactions",
        "contact": {
            "name": "Texnouz",
            "email": "support@texnouz.com"
        },
        "license": {
            "name": "MIT"
        },
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/api-keys": {
            "get": {
                "tags": [
                    "API Keys"
                ],
                "summary": "List user's API keys",
                "operationId": "list_api_keys",
                "responses": {
                    "200": {
                        "description": "List of API keys",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Not authenticated"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "API Keys"
                ],
                "summary": "Create a new API key",
                "operationId": "create_api_key",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateApiKeyRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "API key created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Not authenticated"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/api-keys/{id}": {
            "delete": {
                "tags": [
                    "API Keys"
                ],
                "summary": "Revoke an API key",
                "operationId": "revoke_api_key",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "API key ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "API key revoked"
                    },
                    "404": {
                        "description": "API key not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/auth/change-password": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Change password endpoint",
                "operationId": "change_password",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChangePasswordRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Password changed"
                    },
                    "401": {
                        "description": "Invalid current password"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login endpoint",
                "operationId": "login",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/v1/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get current user info",
                "operationId": "get_current_user",
                "responses": {
                    "200": {
                        "description": "Current user info",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Not authenticated"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register endpoint (admin only or open registration)",
                "operationId": "register",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "User created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Validation error"
                    },
                    "409": {
                        "description": "Username or email already exists"
                    }
                }
            }
        },
        "/api/v1/charge-points": {
            "get": {
                "tags": [
                    "Charge Points"
                ],
                "summary": "Get all charge points",
                "operationId": "list_charge_points",
                "responses": {
                    "200": {
                        "description": "List of charge points",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/charge-points/online": {
            "get": {
                "tags": [
                    "Charge Points"
                ],
                "summary": "Get online charge point IDs",
                "operationId": "get_online_charge_points",
                "responses": {
                    "200": {
                        "description": "List of online charge point IDs",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/charge-points/stats": {
            "get": {
                "tags": [
                    "Charge Points"
                ],
                "summary": "Get charge point statistics",
                "operationId": "get_charge_point_stats",
                "responses": {
                    "200": {
                        "description": "Charge point statistics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}": {
            "get": {
                "tags": [
                    "Charge Points"
                ],
                "summary": "Get charge point by ID",
                "operationId": "get_charge_point",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Charge point details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point not found"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Charge Points"
                ],
                "summary": "Delete charge point",
                "operationId": "delete_charge_point",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Charge point deleted"
                    },
                    "404": {
                        "description": "Charge point not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/change-availability": {
            "post": {
                "tags": [
                    "Commands"
                ],
                "summary": "Change connector availability",
                "operationId": "change_avail",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ChangeAvailabilityRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Command result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/configuration": {
            "get": {
                "tags": [
                    "Commands"
                ],
                "summary": "Get configuration from charge point",
                "operationId": "get_config",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "keys",
                        "in": "query",
                        "description": "Comma-separated list of configuration keys",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "nullable": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Configuration values",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/remote-start": {
            "post": {
                "tags": [
                    "Commands"
                ],
                "summary": "Remote start transaction",
                "operationId": "remote_start",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RemoteStartRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Command result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/remote-stop": {
            "post": {
                "tags": [
                    "Commands"
                ],
                "summary": "Remote stop transaction",
                "operationId": "remote_stop",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RemoteStopRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Command result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/reset": {
            "post": {
                "tags": [
                    "Commands"
                ],
                "summary": "Reset charge point",
                "operationId": "reset_charge_point",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ResetRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Command result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/transactions": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "List transactions for a specific charge point",
                "operationId": "list_transactions_for_charge_point",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "charge_point_id",
                        "in": "query",
                        "description": "Filter by charge point ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "nullable": true
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status (active, completed, failed)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "nullable": true
                        }
                    },
                    {
                        "name": "from_date",
                        "in": "query",
                        "description": "Filter transactions started after this date",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                        }
                    },
                    {
                        "name": "to_date",
                        "in": "query",
                        "description": "Filter transactions started before this date",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number (1-based)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "minimum": 0
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "minimum": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of transactions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/transactions/active": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Get active transactions for a charge point",
                "operationId": "get_active_transactions",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Active transactions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/transactions/stats": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Get transaction statistics for a charge point",
                "operationId": "get_transaction_stats",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transaction statistics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/trigger-message": {
            "post": {
                "tags": [
                    "Commands"
                ],
                "summary": "Trigger message from charge point",
                "operationId": "trigger_msg",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TriggerMessageRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Command result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/charge-points/{charge_point_id}/unlock-connector": {
            "post": {
                "tags": [
                    "Commands"
                ],
                "summary": "Unlock connector",
                "operationId": "unlock",
                "parameters": [
                    {
                        "name": "charge_point_id",
                        "in": "path",
                        "description": "Charge point ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UnlockConnectorRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Command result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Charge point offline or not found"
                    }
                }
            }
        },
        "/api/v1/id-tags": {
            "get": {
                "tags": [
                    "IdTags"
                ],
                "summary": "List all IdTags",
                "operationId": "list_id_tags",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "nullable": true
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Filter by active status",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "nullable": true
                        }
                    },
                    {
                        "name": "user_id",
                        "in": "query",
                        "description": "Filter by user ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "nullable": true
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number (1-based)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                        }
                    },
                    {
                        "name": "page_size",
                        "in": "query",
                        "description": "Items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int64",
                            "minimum": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of IdTags",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Not authenticated"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "IdTags"
                ],
                "summary": "Create a new IdTag",
                "operationId": "create_id_tag",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateIdTagRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "IdTag created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request"
                    },
                    "409": {
                        "description": "IdTag already exists"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/id-tags/{id_tag}": {
            "get": {
                "tags": [
                    "IdTags"
                ],
                "summary": "Get a specific IdTag",
                "operationId": "get_id_tag",
                "parameters": [
                    {
                        "name": "id_tag",
                        "in": "path",
                        "description": "The ID tag value",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "IdTag details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "IdTag not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "IdTags"
                ],
                "summary": "Update an IdTag",
                "operationId": "update_id_tag",
                "parameters": [
                    {
                        "name": "id_tag",
                        "in": "path",
                        "description": "The ID tag value",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateIdTagRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "IdTag updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "IdTag not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "IdTags"
                ],
                "summary": "Delete an IdTag",
                "operationId": "delete_id_tag",
                "parameters": [
                    {
                        "name": "id_tag",
                        "in": "path",
                        "description": "The ID tag value",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "IdTag deleted"
                    },
                    "404": {
                        "description": "IdTag not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/id-tags/{id_tag}/block": {
            "post": {
                "tags": [
                    "IdTags"
                ],
                "summary": "Block an IdTag",
                "operationId": "block_id_tag",
                "parameters": [
                    {
                        "name": "id_tag",
                        "in": "path",
                        "description": "The ID tag value",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "IdTag blocked",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "IdTag not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/id-tags/{id_tag}/unblock": {
            "post": {
                "tags": [
                    "IdTags"
                ],
                "summary": "Unblock an IdTag",
                "operationId": "unblock_id_tag",
                "parameters": [
                    {
                        "name": "id_tag",
                        "in": "path",
                        "description": "The ID tag value",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "IdTag unblocked",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "IdTag not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/monitoring/heartbeats": {
            "get": {
                "tags": [
                    "Monitoring"
                ],
                "summary": "Get heartbeat status for all charge points",
                "operationId": "get_heartbeat_statuses",
                "responses": {
                    "200": {
                        "description": "List of heartbeat statuses",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    },
                    {
                        "api_key": []
                    }
                ]
            }
        },
        "/api/v1/monitoring/online": {
            "get": {
                "tags": [
                    "Monitoring"
                ],
                "summary": "Get list of currently online charge points",
                "operationId": "get_online_charge_points",
                "responses": {
                    "200": {
                        "description": "List of online charge point IDs",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    },
                    {
                        "api_key": []
                    }
                ]
            }
        },
        "/api/v1/monitoring/stats": {
            "get": {
                "tags": [
                    "Monitoring"
                ],
                "summary": "Get connection statistics",
                "operationId": "get_connection_stats",
                "responses": {
                    "200": {
                        "description": "Connection statistics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    },
                    {
                        "api_key": []
                    }
                ]
            }
        },
        "/api/v1/tariffs": {
            "get": {
                "tags": [
                    "tariffs"
                ],
                "summary": "List all tariffs",
                "operationId": "list_tariffs",
                "responses": {
                    "200": {
                        "description": "List of tariffs",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "tariffs"
                ],
                "summary": "Create a new tariff",
                "operationId": "create_tariff",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateTariffRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Tariff created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/tariffs/default": {
            "get": {
                "tags": [
                    "tariffs"
                ],
                "summary": "Get the default tariff",
                "operationId": "get_default_tariff",
                "responses": {
                    "200": {
                        "description": "Default tariff",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No default tariff found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/tariffs/preview-cost": {
            "post": {
                "tags": [
                    "tariffs"
                ],
                "summary": "Preview cost calculation",
                "operationId": "preview_cost",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CostPreviewRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Cost breakdown",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tariff not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/tariffs/{id}": {
            "get": {
                "tags": [
                    "tariffs"
                ],
                "summary": "Get a tariff by ID",
                "operationId": "get_tariff",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Tariff ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tariff details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tariff not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "tariffs"
                ],
                "summary": "Update a tariff",
                "operationId": "update_tariff",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Tariff ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateTariffRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Tariff updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tariff not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "tariffs"
                ],
                "summary": "Delete a tariff",
                "operationId": "delete_tariff",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Tariff ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tariff deleted"
                    },
                    "404": {
                        "description": "Tariff not found"
                    }
                },
                "security": [
                    {
                        "bearer_auth": []
                    }
                ]
            }
        },
        "/api/v1/transactions": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "List all transactions across all charge points",
                "operationId": "list_all_transactions",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number (1-based)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "minimum": 0
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "minimum": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of all transactions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/transactions/{id}": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Get transaction by ID",
                "operationId": "get_transaction",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Transaction ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "format": "int32"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transaction details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Transaction not found"
                    }
                }
            }
        },
        "/health": {
            "get": {
                "tags": [
                    "System"
                ],
                "summary": "Health check",
                "operationId": "health_check",
                "responses": {
                    "200": {
                        "description": "Service is healthy",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HealthResponse"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ApiKeyResponse": {
                "type": "object",
                "description": "API key response",
                "required": [
                    "id",
                    "name",
                    "prefix",
                    "scopes",
                    "is_active",
                    "created_at"
                ],
                "properties": {
                    "created_at": {
                        "type": "string"
                    },
                    "expires_at": {
                        "type": "string",
                        "nullable": true
                    },
                    "id": {
                        "type": "string"
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "last_used_at": {
                        "type": "string",
                        "nullable": true
                    },
                    "name": {
                        "type": "string"
                    },
                    "prefix": {
                        "type": "string"
                    },
                    "scopes": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "ApiResponse": {
                "type": "object",
                "description": "Standard API response wrapper",
                "required": [
                    "success"
                ],
                "properties": {
                    "data": {
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/T"
                            }
                        ],
                        "nullable": true
                    },
                    "error": {
                        "type": "string",
                        "nullable": true
                    },
                    "success": {
                        "type": "boolean"
                    }
                }
            },
            "ChangeAvailabilityRequest": {
                "type": "object",
                "description": "Change availability request",
                "required": [
                    "connector_id",
                    "type"
                ],
                "properties": {
                    "connector_id": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Connector ID (0 = entire charge point)",
                        "minimum": 0
                    },
                    "type": {
                        "type": "string",
                        "description": "Availability type: \"Operative\" or \"Inoperative\""
                    }
                },
                "example": {
                    "connector_id": 0,
                    "type": "Operative"
                }
            },
            "ChangePasswordRequest": {
                "type": "object",
                "description": "Change password request",
                "required": [
                    "current_password",
                    "new_password"
                ],
                "properties": {
                    "current_password": {
                        "type": "string",
                        "description": "Current password"
                    },
                    "new_password": {
                        "type": "string",
                        "description": "New password (min 8 characters)"
                    }
                }
            },
            "ChargePointDto": {
                "type": "object",
                "description": "Charge point response DTO",
                "required": [
                    "id",
                    "status",
                    "is_online",
                    "connectors",
                    "registered_at"
                ],
                "properties": {
                    "connectors": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ConnectorDto"
                        }
                    },
                    "firmware_version": {
                        "type": "string",
                        "nullable": true
                    },
                    "iccid": {
                        "type": "string",
                        "nullable": true
                    },
                    "id": {
                        "type": "string"
                    },
                    "imsi": {
                        "type": "string",
                        "nullable": true
                    },
                    "is_online": {
                        "type": "boolean"
                    },
                    "last_heartbeat": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "model": {
                        "type": "string",
                        "nullable": true
                    },
                    "registered_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "serial_number": {
                        "type": "string",
                        "nullable": true
                    },
                    "status": {
                        "type": "string"
                    },
                    "vendor": {
                        "type": "string",
                        "nullable": true
                    }
                },
                "example": {
                    "connectors": [],
                    "firmware_version": "0.9.87",
                    "id": "CP001",
                    "is_online": true,
                    "last_heartbeat": "2024-01-15T12:00:00Z",
                    "model": "AVT-Express",
                    "registered_at": "2024-01-15T10:30:00Z",
                    "serial_number": "avt.001.13.1",
                    "status": "Accepted",
                    "vendor": "AVT-Company"
                }
            },
            "ChargePointStats": {
                "type": "object",
                "description": "Summary statistics for charge points",
                "required": [
                    "total",
                    "online",
                    "offline",
                    "charging"
                ],
                "properties": {
                    "charging": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "offline": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "online": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "total": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    }
                },
                "example": {
                    "charging": 3,
                    "offline": 2,
                    "online": 8,
                    "total": 10
                }
            },
            "CommandResponse": {
                "type": "object",
                "description": "Command response",
                "required": [
                    "status"
                ],
                "properties": {
                    "message": {
                        "type": "string",
                        "description": "Optional message",
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "description": "Response status from charge point"
                    }
                },
                "example": {
                    "message": "Command sent successfully",
                    "status": "Accepted"
                }
            },
            "ConfigValue": {
                "type": "object",
                "description": "Configuration value",
                "required": [
                    "key",
                    "readonly"
                ],
                "properties": {
                    "key": {
                        "type": "string"
                    },
                    "readonly": {
                        "type": "boolean"
                    },
                    "value": {
                        "type": "string",
                        "nullable": true
                    }
                }
            },
            "ConfigurationResponse": {
                "type": "object",
                "description": "Configuration response",
                "required": [
                    "configuration",
                    "unknown_keys"
                ],
                "properties": {
                    "configuration": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ConfigValue"
                        }
                    },
                    "unknown_keys": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "ConnectionStatsDto": {
                "type": "object",
                "description": "Connection stats DTO",
                "required": [
                    "total",
                    "online",
                    "offline",
                    "stale"
                ],
                "properties": {
                    "offline": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "online": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "stale": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "total": {
                        "type": "integer",
                        "minimum": 0
                    }
                }
            },
            "ConnectorDto": {
                "type": "object",
                "description": "Connector response DTO",
                "required": [
                    "id",
                    "status"
                ],
                "properties": {
                    "error_code": {
                        "type": "string",
                        "nullable": true
                    },
                    "error_info": {
                        "type": "string",
                        "nullable": true
                    },
                    "id": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "status": {
                        "type": "string"
                    }
                },
                "example": {
                    "error_code": null,
                    "id": 1,
                    "status": "Available"
                }
            },
            "CostBreakdownResponse": {
                "type": "object",
                "description": "Cost breakdown response DTO",
                "required": [
                    "energy_cost",
                    "time_cost",
                    "session_fee",
                    "subtotal",
                    "total",
                    "currency",
                    "formatted_total"
                ],
                "properties": {
                    "currency": {
                        "type": "string"
                    },
                    "energy_cost": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "formatted_total": {
                        "type": "string"
                    },
                    "session_fee": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "subtotal": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "time_cost": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "total": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "CostPreviewRequest": {
                "type": "object",
                "description": "Cost preview request DTO",
                "required": [
                    "energy_wh",
                    "duration_seconds"
                ],
                "properties": {
                    "duration_seconds": {
                        "type": "integer",
                        "format": "int64",
                        "description": "Duration in seconds"
                    },
                    "energy_wh": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Energy consumed in Wh"
                    },
                    "tariff_id": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Tariff ID to use (optional, uses default if not specified)",
                        "nullable": true
                    }
                }
            },
            "CreateApiKeyRequest": {
                "type": "object",
                "description": "Create API key request",
                "required": [
                    "name",
                    "scopes"
                ],
                "properties": {
                    "expires_in_days": {
                        "type": "integer",
                        "format": "int64",
                        "description": "Optional expiration time in days",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "description": "Name/description for the API key"
                    },
                    "scopes": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "Scopes/permissions for this key"
                    }
                },
                "example": {
                    "name": "My Integration",
                    "scopes": [
                        "charge_points:read",
                        "transactions:read"
                    ]
                }
            },
            "CreateIdTagRequest": {
                "type": "object",
                "description": "Create IdTag request",
                "required": [
                    "id_tag"
                ],
                "properties": {
                    "expiry_date": {
                        "type": "string",
                        "description": "Expiry date (ISO 8601 format)",
                        "nullable": true
                    },
                    "id_tag": {
                        "type": "string",
                        "description": "The ID tag value (RFID card number)"
                    },
                    "max_active_transactions": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Maximum active transactions allowed",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "description": "Display name",
                        "nullable": true
                    },
                    "parent_id_tag": {
                        "type": "string",
                        "description": "Parent ID tag for group authorization",
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "description": "Status: Accepted, Blocked, Expired, Invalid"
                    },
                    "user_id": {
                        "type": "string",
                        "description": "User ID to associate with this tag",
                        "nullable": true
                    }
                },
                "example": {
                    "id_tag": "RFID001234567890",
                    "name": "John's Card",
                    "status": "Accepted"
                }
            },
            "CreateTariffRequest": {
                "type": "object",
                "description": "Create tariff request DTO",
                "required": [
                    "name",
                    "tariff_type",
                    "price_per_kwh",
                    "price_per_minute",
                    "session_fee",
                    "currency"
                ],
                "properties": {
                    "currency": {
                        "type": "string",
                        "description": "Currency code (ISO 4217)"
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "is_active": {
                        "type": "boolean",
                        "nullable": true
                    },
                    "is_default": {
                        "type": "boolean",
                        "nullable": true
                    },
                    "max_fee": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Maximum fee (0 = no limit)",
                        "nullable": true
                    },
                    "min_fee": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Minimum fee",
                        "nullable": true
                    },
                    "name": {
                        "type": "string"
                    },
                    "price_per_kwh": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Price per kWh in smallest currency unit (e.g., cents)"
                    },
                    "price_per_minute": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Price per minute in smallest currency unit"
                    },
                    "session_fee": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Session start fee in smallest currency unit"
                    },
                    "tariff_type": {
                        "type": "string",
                        "description": "Tariff type: PerKwh, PerMinute, PerSession, Combined"
                    },
                    "valid_from": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "valid_until": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "CreatedApiKeyResponse": {
                "type": "object",
                "description": "Created API key response (includes full key - only shown once!)",
                "required": [
                    "key",
                    "api_key"
                ],
                "properties": {
                    "api_key": {
                        "$ref": "#/components/schemas/ApiKeyResponse"
                    },
                    "key": {
                        "type": "string",
                        "description": "The full API key - SAVE THIS! It won't be shown again"
                    }
                }
            },
            "HeartbeatStatusDto": {
                "type": "object",
                "description": "Heartbeat status DTO",
                "required": [
                    "charge_point_id",
                    "is_connected",
                    "status"
                ],
                "properties": {
                    "charge_point_id": {
                        "type": "string"
                    },
                    "is_connected": {
                        "type": "boolean"
                    },
                    "last_heartbeat": {
                        "type": "string",
                        "example": "2026-02-06T10:30:00Z",
                        "nullable": true
                    },
                    "last_seen": {
                        "type": "string",
                        "example": "2026-02-06T10:30:05Z",
                        "nullable": true
                    },
                    "seconds_since_heartbeat": {
                        "type": "integer",
                        "format": "int64",
                        "example": 30,
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "example": "Online"
                    }
                }
            },
            "IdTagDto": {
                "type": "object",
                "description": "IdTag DTO for API responses",
                "required": [
                    "id_tag",
                    "status",
                    "is_active",
                    "created_at",
                    "updated_at"
                ],
                "properties": {
                    "created_at": {
                        "type": "string"
                    },
                    "expiry_date": {
                        "type": "string",
                        "nullable": true
                    },
                    "id_tag": {
                        "type": "string"
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "last_used_at": {
                        "type": "string",
                        "nullable": true
                    },
                    "max_active_transactions": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "nullable": true
                    },
                    "parent_id_tag": {
                        "type": "string",
                        "nullable": true
                    },
                    "status": {
                        "type": "string"
                    },
                    "updated_at": {
                        "type": "string"
                    },
                    "user_id": {
                        "type": "string",
                        "nullable": true
                    }
                }
            },
            "LoginRequest": {
                "type": "object",
                "description": "Login request",
                "required": [
                    "username",
                    "password"
                ],
                "properties": {
                    "password": {
                        "type": "string",
                        "description": "Password"
                    },
                    "username": {
                        "type": "string",
                        "description": "Username or email"
                    }
                },
                "example": {
                    "password": "secret123",
                    "username": "admin"
                }
            },
            "LoginResponse": {
                "type": "object",
                "description": "Login response",
                "required": [
                    "token",
                    "token_type",
                    "expires_in",
                    "user"
                ],
                "properties": {
                    "expires_in": {
                        "type": "integer",
                        "format": "int64",
                        "description": "Token expiration time in seconds"
                    },
                    "token": {
                        "type": "string",
                        "description": "JWT access token"
                    },
                    "token_type": {
                        "type": "string",
                        "description": "Token type (always \"Bearer\")"
                    },
                    "user": {
                        "$ref": "#/components/schemas/UserInfo"
                    }
                },
                "example": {
                    "expires_in": 86400,
                    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                    "token_type": "Bearer",
                    "user": {
                        "email": "admin@example.com",
                        "id": "user-123",
                        "role": "admin",
                        "username": "admin"
                    }
                }
            },
            "PaginatedResponse": {
                "type": "object",
                "description": "Paginated response",
                "required": [
                    "items",
                    "total",
                    "page",
                    "limit",
                    "total_pages"
                ],
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/T"
                        }
                    },
                    "limit": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "page": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "total": {
                        "type": "integer",
                        "format": "int64",
                        "minimum": 0
                    },
                    "total_pages": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    }
                }
            },
            "PaginationParams": {
                "type": "object",
                "description": "Pagination parameters",
                "properties": {
                    "limit": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Items per page",
                        "minimum": 0
                    },
                    "page": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Page number (1-based)",
                        "minimum": 0
                    }
                }
            },
            "RegisterRequest": {
                "type": "object",
                "description": "Register request",
                "required": [
                    "username",
                    "email",
                    "password"
                ],
                "properties": {
                    "email": {
                        "type": "string",
                        "description": "Email address"
                    },
                    "password": {
                        "type": "string",
                        "description": "Password (min 8 characters)"
                    },
                    "username": {
                        "type": "string",
                        "description": "Username (3-50 characters)"
                    }
                },
                "example": {
                    "email": "user@example.com",
                    "password": "secure_password_123",
                    "username": "newuser"
                }
            },
            "RemoteStartRequest": {
                "type": "object",
                "description": "Remote start transaction request",
                "required": [
                    "id_tag"
                ],
                "properties": {
                    "connector_id": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Optional connector ID (1-based)",
                        "nullable": true,
                        "minimum": 0
                    },
                    "id_tag": {
                        "type": "string",
                        "description": "RFID tag or identifier for authorization"
                    }
                },
                "example": {
                    "connector_id": 1,
                    "id_tag": "RFID001"
                }
            },
            "RemoteStopRequest": {
                "type": "object",
                "description": "Remote stop transaction request",
                "required": [
                    "transaction_id"
                ],
                "properties": {
                    "transaction_id": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Transaction ID to stop"
                    }
                },
                "example": {
                    "transaction_id": 123
                }
            },
            "ResetRequest": {
                "type": "object",
                "description": "Reset request",
                "required": [
                    "type"
                ],
                "properties": {
                    "type": {
                        "type": "string",
                        "description": "Reset type: \"Soft\" or \"Hard\""
                    }
                },
                "example": {
                    "type": "Soft"
                }
            },
            "TariffResponse": {
                "type": "object",
                "description": "Tariff response DTO",
                "required": [
                    "id",
                    "name",
                    "tariff_type",
                    "price_per_kwh",
                    "price_per_minute",
                    "session_fee",
                    "currency",
                    "min_fee",
                    "max_fee",
                    "is_active",
                    "is_default",
                    "created_at",
                    "updated_at"
                ],
                "properties": {
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "currency": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "id": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "is_active": {
                        "type": "boolean"
                    },
                    "is_default": {
                        "type": "boolean"
                    },
                    "max_fee": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "min_fee": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "name": {
                        "type": "string"
                    },
                    "price_per_kwh": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "price_per_minute": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "session_fee": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "tariff_type": {
                        "type": "string"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "valid_from": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "valid_until": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "TransactionDto": {
                "type": "object",
                "description": "Transaction response DTO",
                "required": [
                    "id",
                    "charge_point_id",
                    "connector_id",
                    "id_tag",
                    "meter_start",
                    "status",
                    "started_at"
                ],
                "properties": {
                    "charge_point_id": {
                        "type": "string"
                    },
                    "connector_id": {
                        "type": "integer",
                        "format": "int32",
                        "minimum": 0
                    },
                    "energy_consumed_wh": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "id": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "id_tag": {
                        "type": "string"
                    },
                    "meter_start": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "meter_stop": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "started_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "status": {
                        "type": "string"
                    },
                    "stop_reason": {
                        "type": "string",
                        "nullable": true
                    },
                    "stopped_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "example": {
                    "charge_point_id": "CP001",
                    "connector_id": 1,
                    "energy_consumed_wh": 5000,
                    "id": 1,
                    "id_tag": "RFID001",
                    "meter_start": 10000,
                    "meter_stop": 15000,
                    "started_at": "2024-01-15T10:00:00Z",
                    "status": "Completed",
                    "stop_reason": "Local",
                    "stopped_at": "2024-01-15T12:00:00Z"
                }
            },
            "TransactionStats": {
                "type": "object",
                "description": "Transaction statistics",
                "required": [
                    "total",
                    "active",
                    "completed",
                    "total_energy_kwh"
                ],
                "properties": {
                    "active": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Number of active (ongoing) transactions",
                        "minimum": 0
                    },
                    "completed": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Number of completed transactions",
                        "minimum": 0
                    },
                    "total": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Total number of transactions",
                        "minimum": 0
                    },
                    "total_energy_kwh": {
                        "type": "number",
                        "format": "double",
                        "description": "Total energy delivered in kWh"
                    }
                }
            },
            "TriggerMessageRequest": {
                "type": "object",
                "description": "Trigger message request",
                "required": [
                    "message"
                ],
                "properties": {
                    "connector_id": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Optional connector ID",
                        "nullable": true,
                        "minimum": 0
                    },
                    "message": {
                        "type": "string",
                        "description": "Message type: \"BootNotification\", \"Heartbeat\", \"StatusNotification\", etc."
                    }
                },
                "example": {
                    "connector_id": 1,
                    "message": "StatusNotification"
                }
            },
            "UnlockConnectorRequest": {
                "type": "object",
                "description": "Unlock connector request",
                "required": [
                    "connector_id"
                ],
                "properties": {
                    "connector_id": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Connector ID to unlock (1-based)",
                        "minimum": 0
                    }
                },
                "example": {
                    "connector_id": 1
                }
            },
            "UpdateIdTagRequest": {
                "type": "object",
                "description": "Update IdTag request",
                "properties": {
                    "expiry_date": {
                        "type": "string",
                        "description": "Expiry date (ISO 8601 format)",
                        "nullable": true
                    },
                    "is_active": {
                        "type": "boolean",
                        "description": "Whether the tag is active",
                        "nullable": true
                    },
                    "max_active_transactions": {
                        "type": "integer",
                        "format": "int32",
                        "description": "Maximum active transactions",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "description": "Display name",
                        "nullable": true
                    },
                    "parent_id_tag": {
                        "type": "string",
                        "description": "Parent ID tag",
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "description": "Status: Accepted, Blocked, Expired, Invalid",
                        "nullable": true
                    },
                    "user_id": {
                        "type": "string",
                        "description": "User ID",
                        "nullable": true
                    }
                }
            },
            "UpdateTariffRequest": {
                "type": "object",
                "description": "Update tariff request DTO",
                "properties": {
                    "currency": {
                        "type": "string",
                        "nullable": true
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "is_active": {
                        "type": "boolean",
                        "nullable": true
                    },
                    "is_default": {
                        "type": "boolean",
                        "nullable": true
                    },
                    "max_fee": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "min_fee": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "nullable": true
                    },
                    "price_per_kwh": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "price_per_minute": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "session_fee": {
                        "type": "integer",
                        "format": "int32",
                        "nullable": true
                    },
                    "tariff_type": {
                        "type": "string",
                        "nullable": true
                    },
                    "valid_from": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "valid_until": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "UserInfo": {
                "type": "object",
                "description": "User information",
                "required": [
                    "id",
                    "username",
                    "email",
                    "role"
                ],
                "properties": {
                    "email": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "role": {
                        "type": "string"
                    },
                    "username": {
                        "type": "string"
                    }
                }
            }
        },
        "securitySchemes": {
            "api_key": {
                "type": "apiKey",
                "in": "header",
                "name": "X-API-Key"
            },
            "bearer_auth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "JWT Bearer token"
            }
        }
    },
    "tags": [
        {
            "name": "Health",
            "description": "Health check endpoints"
        },
        {
            "name": "Auth",
            "description": "Authentication and user management"
        },
        {
            "name": "API Keys",
            "description": "API key management"
        },
        {
            "name": "IdTags",
            "description": "RFID card/token management"
        },
        {
            "name": "Tariffs",
            "description": "Billing tariff management"
        },
        {
            "name": "Charge Points",
            "description": "Charge point management"
        },
        {
            "name": "Monitoring",
            "description": "Real-time monitoring and heartbeat status"
        },
        {
            "name": "Commands",
            "description": "Remote commands to charge points"
        },
        {
            "name": "Transactions",
            "description": "Transaction management"
        }
    ]
}